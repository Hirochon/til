## メンタルブレイク...機能実装にも努めたよ (2020/3/14)

### 本日やったこと
1. 朝７時起きからの死ぬ気で企業調べ！
    - 企業様がめちゃめちゃ情報を共有してくださっているので、その気持ちに答えて死ぬ気で情報インプット！
    - めっちゃめっっっっっっっっっっっちゃ調べた！
2. 自分を振り返る！
    - めっちゃ調べた結果として、本当に自分にあっているのか振り返る
    - ほんとうにマッチしていると自分の中では確信して、気持ちの整理万端！
3. いざ面接へ！
    - 電波が悪い...神様...僕泣きそうです...
    - 話は断片的に聞こえているので、その情報の中必死に自分アピール
4. 面接終わりました...
    - まず聞き返したり、聞こえなかったりする部分があって、相手に失礼がなかったかとても不安になる。
    - 聞こにくかった部分で面接していただいた方もすごく配慮して頂けて、パソコンを近づける動作が見えた...申し訳ないです...
    - 主張すべき1つの点について言及したりていなかった！後悔！
    - めっちゃ悔しい気持ちが残りまくる！！！！！！！！！！！
5. Shappar開発へ
    - もやもやした気持ちを晴らしたくて、友達を誘ってShappar開発進めよ〜って感じ！
    - 都合が付いて、きてくれました〜。
    - 心の奥底でもやもやが消えず、死にそうになりながら開発進めます...
6. なにをやったか
    - マイページの投稿済み投稿一覧表示機能の実装
    - マイページの投票済み投稿一覧表示機能の実装
7. 投稿一覧表示機能の実装について
    1. 特に難しいこともなく実装
    2. 一回ドメインとローカルのURLが見えてなくて、色々反映されなくてやばくなったときはありましたw
8. 投票済み投稿一覧表示機能について
    1. 問題はこっちだった。
    2. ①いまさら`id`以外のリレーションシップ関係にある子モデルから親モデルの取得方法を認知する(基本的な事を知る機会がないっていう独学の悪い点だよね)
    3. ②モデルで`related_name`を定義する意味がやっと実感した件。(Qiita見ても実装できないのはここだった！！)
    4. ③アンダースコアのやつ繋げれるの！？！？！？
        - 容易なフィルタリングが可能になる
        - 参照が用意になる

    ```python:views.py
    class MypageVotedListAPIView(views.APIView):
        def get(self, request, pk, *args, **kwargs):

            """①今までの取得方法"""
            sk = get_user_model().objects.get(username=pk).id
            post = Post.objects.filter(user_id=sk)

            """①これからの取得方法"""
            post = Post.objects.filter(user__username=pk)

            if 'pid' in request.GET:
                post_basis = Post.objects.get(id=request.GET['pid'])

                """②_setではなく、poll_postと子モデルで定義したため、親モデルの逆参照時ではそれを指定しなければいけない&①を使ってます"""
                """③ユーザIDが格納されてるの投票テーブルのポストのクエリセットをフィルタ"""
                querysets = Post.objects.filter(poll_post__user__id=sk, created_at__lt=post_basis.created_at).order_by('-created_at')[:10]
            else:
                """②_setではなく、poll_postと子モデルで定義したため、親モデルの逆参照時ではそれを指定しなければいけない&①を使ってます"""
                """③ユーザIDが格納されてるの投票テーブルのポストのクエリセットをフィルタ"""
                querysets = Post.objects.filter(poll_post__user__id=sk).order_by('-created_at')[:10]

            serializer = PostListSerializer(instance=querysets, many=True, pk=sk)

            return Response(serializer.data, status.HTTP_200_OK)
    ```
9. マイページのデザインを熟考
    - マイページ編集画面のデザインをめっちゃ議論
    - マイページのデザインをめっちゃ議論