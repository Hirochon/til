## shappar-ECSで一応shapparの管理に成功しました(DBが...) (2020/3/5)

### PCの検索履歴を見つつ書いてますｗ

### やったことリスト！
1. まあまず面接対策よね！
    - エージェントさんのサポートも激熱だったので、自分も頑張りました。笑
2. いざ面接！やりきりました！
3. 今回も改善点とか色々あるわけですが...笑
4. さて、身体的精神的疲労はありながらも、Shapparの開発を進めてくっっ！
    - 今まではECSを使った【Nginx×Django】をデプロイすることを目指してきましたが...
    - 遂にShapparをデプロイするぜよ！
5. 設定する項目がいっぱいだぁ...
6. データベースをどうするのか迷ってました。
    - コンテナでDBSのイメージを用意して、それをデータベースとして使う。
    - Amazon RDSをインスタンスと繋いでデータベースとして使う
    - てかMariaDB(MySQL),PostgreSQLとかあるけどどれ使おう...
7. コンテナにPostgreSQLのイメージ用意してつなげよう！
    - とりあえず今までローカルではコンテナでPostgreSQLのイメージをプルして使ってたので、それで行くことを決める
    - 普通に上手く行くw
8. 問題を発見！！！！！
    - DBのデータがコンテナ間で共有されてねえ...
    - ちょっとググってみるけど、明らかに学習コストが低い方法が思いついたので、ぐぐりやめる
    - RDS使おう！笑
9. RDSで設計し始める
    - どのQiita記事見てもMariaDBしか使ってねえｗ
    - 仕方なくRDSをMariaDBで、Django側のパッケージもPostgres用からMySQL用に変更。環境変数も変更。
    - 上手くいかぬ。
    - どうやら環境変数の設定の仕方に問題があるみたいだけど、明らかに簡単な解決法が思いつくので、ググりやめる。
10. RDSをPostgreSQLにして、再び設定し直す！
11. うまくいったあああああ！